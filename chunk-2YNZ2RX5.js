import{a as F}from"./chunk-YT3T6JMO.js";import{a as c}from"./chunk-F6YTDHJB.js";import{f as M}from"./chunk-CDJZBGNX.js";import{a as N,b as B}from"./chunk-5HLHXSZV.js";import{e as A,f as p}from"./chunk-33ZLOP25.js";import{Da as n,Jb as y,Ob as w,Pb as T,Qb as v,Z as I,a as C,aa as u,e as S,ha as d,hb as l,mc as L,nb as D,sc as a,wa as m,xb as _,za as O}from"./chunk-75JNA2NC.js";var V={FILLED:"filled",OUTLINED:"outlined"};var x={PRIMARY:"primary",SURFACE:"surface",LIGHT:"light",DARK:"dark"};var R=new I("IDS_SEGMENTED_CONTROL_DEFAULT_OPTIONS",{providedIn:"root",factory:E});function E(){return{appearance:V.FILLED,size:A.COMFORTABLE,variant:x.SURFACE}}var H=E(),ae=(()=>{let i=class i{constructor(){this._injector=u(m),this._defaultOptions=C(C({},H),this._injector.get(R,null,{optional:!0})),this._subscription=new S,this.name=n(),this.size=n(this._defaultOptions.size),this.variant=n(this._defaultOptions.variant),this.appearance=n(this._defaultOptions.appearance),this.isDisabled=l(!1),this._hostClasses=a(()=>p(this._componentClass,[this.size(),this.variant(),this.appearance(),this.isDisabled()?"disabled":null])),this._onChange=()=>{},this._onTouched=()=>{}}set disabled(e){e!==this.disabled&&this.isDisabled.set(e)}get hostClasses(){return this._hostClasses()}handleKeyDown(e){if(!["ArrowLeft","ArrowRight","Enter"," "].includes(e.key))return;e.preventDefault();let s=this._items(),b=e.target.id,o=s.findIndex(g=>g.id()===b);switch(e.key){case"ArrowLeft":{if(o===0)return;s[o-1].focus();break}case"ArrowRight":{if(o===s.length-1)return;s[o+1].focus();break}case"Enter":case" ":{s[o].onClick();break}default:return}}ngOnInit(){this._selectionModel=new F(this.multiSelect(),void 0,!1,this.valueCompareFn)}ngAfterContentInit(){let e=this._items();if(L()&&e.length<2)throw new Error(c(this._componentClass,"invalid count of segmented control items. Minimum item count is 2."));this._selectionModel?.select(...this._items().filter(s=>s.selected())),this._subscribeItemChanges()}writeValue(e){this._setSelectionByValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.isDisabled.set(e)}_subscribeItemChanges(){this._items().forEach(e=>{this._subscription?.add(e.changes.subscribe(t=>{this._handleItemChanges(t)}))})}_setSelectionByValue(e){if(this._rawValue=e,this._items().length!==0)if(this.multiSelect()&&e){if(!Array.isArray(e))throw new Error(c(this._componentClass,"value must be an array in multiple-selection mode"));this._clearSelection(),e.forEach(t=>this._selectValue(t))}else this._clearSelection(),this._selectValue(e)}_selectValue(e){let t=this._items().find(s=>s.value()!=null&&s.value()===e);t&&(t.selected.set(!0),this._selectionModel?.select(t))}_clearSelection(){this._selectionModel?.clear(),this._items().forEach(e=>{e.selected.set(!1)})}_handleChange(){let e=this._selectionModel?.selected.map(t=>t.value());this.multiSelect()?this._onChange(e):this._onChange(e?.[0])}isItemPreSelectedByValue(e){return this._rawValue===void 0?!1:this.multiSelect()&&Array.isArray(this._rawValue)?this._rawValue.some(t=>e!=null&&t===e):e===this._rawValue}ngOnDestroy(){this._subscription?.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d({type:i,hostVars:2,hostBindings:function(t,s){t&1&&y("keydown",function(b){return s.handleKeyDown(b)}),t&2&&_(s.hostClasses)},inputs:{name:[1,"name"],size:[1,"size"],variant:[1,"variant"],appearance:[1,"appearance"],valueCompareFn:"valueCompareFn",disabled:[2,"disabled","disabled",N]},outputs:{itemChanges:"itemChanges"},features:[D]});let r=i;return r})();var U=["button"],pe=(()=>{let i=class i{constructor(){this.injector=u(m),this._parent=l(null),this.iconChecked=M,this.selected=l(!1),this.name=n(),this.value=n.required(),this.label=n(),this.ariaLabel=n("",{alias:"aria-label"}),this.ariaLabelledBy=n("",{alias:"aria-labeledby"}),this.tabIndex=n(0,{transform:B}),this.disabled=n(!1),this.isDisabled=a(()=>this.disabled()||this._parent()?.isDisabled()),this._multiSelect=a(()=>this._parent()?.multiSelect()),this.buttonName=a(()=>this._parent()?.multiSelect()?this.name():this._parent()?.name()),this.ariaPressed=a(()=>this._multiSelect()?this.selected():null),this.ariaChecked=a(()=>this._multiSelect()?null:this.selected()),this.role=a(()=>this._multiSelect()?"button":"radio"),this.buttonClasses=a(()=>p(this._componentClass,[this.selected()?"selected":null])),this.changes=new O}get hostClasses(){return this._componentClass}ngOnInit(){let e=this._getParent();if(!e)throw new Error(this._getNonExistingParentError());this._parent.set(e),e.isItemPreSelectedByValue(this.value())&&this.selected.set(!0)}onClick(){(this._multiSelect()||!this.selected())&&this.changes.emit(this._createItemChangeEvent())}focus(e){this._buttonElement.nativeElement.focus(e)}_getNonExistingParentError(){return c(this._componentClass,"component must be direct child of a segmented control")}};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=d({type:i,viewQuery:function(t,s){if(t&1&&w(U,5),t&2){let h;T(h=v())&&(s._buttonElement=h.first)}},hostVars:2,hostBindings:function(t,s){t&2&&_(s.hostClasses)},inputs:{name:[1,"name"],value:[1,"value"],label:[1,"label"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledBy:[1,"aria-labeledby","ariaLabelledBy"],tabIndex:[1,"tabIndex"],disabled:[1,"disabled"]},outputs:{changes:"changes"}});let r=i;return r})();var k=class{constructor(i,f,e){this.source=i,this.selected=f,this.value=e}},P=class{constructor(i,f){this.source=i,this.value=f}};export{V as a,x as b,ae as c,pe as d,k as e,P as f};
