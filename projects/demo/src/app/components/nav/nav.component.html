<nav>
  @for (menuConfig of menu(); track $index) {
  <section>
    @if (menuConfig.name) {
    <h2 class="nav-label">{{ menuConfig.name | translate }}</h2>
    }
    <ul>
      @for (menuItem of menuConfig.children; track $index) {
        @if (menuItem.children?.length! > 0) {
        <li>
          <span class="subnav-parent">
            <a [routerLink]="menuItem.path">
              <span class="icon"></span
              ><span class="name">{{ menuItem.name! | translate }}</span></a
            ><span #trigger class="more"
              ><svg
                version="1.1"
                viewBox="0 0 24 24"
                style="display: inline-block; width: 1.5rem"
              >
                <path
                  [attr.d]="menuItem.$open ? iconOpened() : iconClosed()"
                /></svg></span></span
          ><app-subnav
            [menuItem]="menuItem"
            [trigger]="trigger"
            (onOpen)="menuItem.$open= $event"
          ></app-subnav>
        </li>
        } @else {
        <li>
          <a [routerLink]="menuItem.path"
            ><span class="icon"></span
            ><span class="name">{{ menuItem!.name! | translate }}</span></a
          >
        </li>
        }
      }
    </ul>
  </section>
  }
</nav>
