<ng-template #content>
  <ng-content/>
</ng-template>

<ng-template #customHeader>
  <ng-content select="[slot='customHeader']"/>
</ng-template>

<ng-template #footer>
  <ng-content select="[slot='footer']"/>
</ng-template>

@if (open() && type() === _idsSideSheetType.OVERLAY) {
  @if(isBackdrop()) {
    <div class="ids-side-sheet-backdrop" (click)="_close()"></div>
  }
  <div
    class="ids-side-sheet-container"
    role="dialog"
    aria-modal="true"
    aria-labelledby="side-sheet-title"
    [class.right]="position() === _idsSideSheetPositionType.RIGHT"
    [@slideInOut]="position()">
    @if(isClosable() && header() === _idsSideSheetHeaderType.CUSTOM) {
      <div class="ids-custom-header-top-row">
        <button
          class="close-btn"
          type="button" idsIconButton
          [variant]="'surface'" [appearance]="'standard'"
          [idsTooltip]="closeTooltipText()"
          (click)="_close()"
        >
          <ids-icon aria-hidden="true" alt="" fontIcon="close" />
        </button>
      </div>
    }
    <app-side-sheet-header
    [ngClass]="{
      'ids-custom-side-sheet-header': header() === _idsSideSheetHeaderType.CUSTOM,
      'ids-default-side-sheet-header': header() !== _idsSideSheetHeaderType.CUSTOM
    }"
    [header]="header()"
    [isShowHeader]="isShowHeader()"
    [title]="title()"
    [backButton]="backButton()"
    [isClosable]="isClosable()"
    [closeTooltipText]="closeTooltipText()"
    (closed)="_close()"
    (backClicked)="_onBack()"
    >
      @if (header() === _idsSideSheetHeaderType.CUSTOM) {
        <ng-container *ngTemplateOutlet="customHeader"/>
      }
    </app-side-sheet-header>
    <div class="side-sheet-content" [ngClass]="{ 'scrollable': isScrollable() }">
      <ng-container *ngTemplateOutlet="content"/>
    </div>
      <div class="ids-side-sheet-footer">
        <ng-container *ngTemplateOutlet="footer"/>
      </div>
  </div>
}
@if (open() && type() === _idsSideSheetType.INLINE) {
  <div
    class="ids-side-sheet-container-inline"
    role="region"
    aria-labelledby="side-sheet-title"
    cdkTrapFocus
    [class.right]="position() === _idsSideSheetPositionType.RIGHT"
    [@slideInOut]="position()">

    <div class="ids-custom-header-top-row">
      @if(isClosable() && header() === _idsSideSheetHeaderType.CUSTOM) {
        <button
          class="close-btn"
          type="button"
          idsIconButton
          [variant]="'surface'"
          [appearance]="'standard'"
          [idsTooltip]="closeTooltipText()"
          (click)="_close()"
        >
          <ids-icon aria-hidden="true" alt="" fontIcon="close" />
        </button>
      }
    </div>

    <app-side-sheet-header
      [ngClass]="{
        'ids-custom-side-sheet-header': header() === _idsSideSheetHeaderType.CUSTOM,
        'ids-default-side-sheet-header': header() !== _idsSideSheetHeaderType.CUSTOM
      }"
      [header]="header()"
      [isShowHeader]="isShowHeader()"
      [title]="title()"
      [backButton]="backButton()"
      [isClosable]="isClosable()"
      [closeTooltipText]="closeTooltipText()"
      (closed)="_close()"
      (backClicked)="_onBack()"
    >
      @if (header() === _idsSideSheetHeaderType.CUSTOM) {
        <ng-container *ngTemplateOutlet="customHeader"/>
      }
    </app-side-sheet-header>
    <div class="side-sheet-content" [ngClass]="{ 'scrollable': isScrollable() }">
      <ng-container *ngTemplateOutlet="content"/>
    </div>
      <div class="ids-side-sheet-footer">
        <ng-container *ngTemplateOutlet="footer"/>
      </div>
  </div>
}
