import{a as et,b as r,c as ot,d as l,e as T,f as M}from"./chunk-GZ6DPIBH.js";import{e as ht}from"./chunk-CBDE7CQJ.js";import{d as rt,e as lt,m as at}from"./chunk-QE47UNE5.js";import{b as dt}from"./chunk-XP6QIADQ.js";import{d as Q}from"./chunk-4QV3TJEO.js";import{c as nt}from"./chunk-5HLHXSZV.js";import"./chunk-DHZI2MM3.js";import{c as tt,d as it,e as st,f as N}from"./chunk-33ZLOP25.js";import{A as W,Aa as v,B,Da as _,Db as p,Ea as R,Eb as c,Fb as $,Ib as q,S as y,Vb as u,W as G,Wb as w,Z as S,Za as d,a as O,aa as h,ac as L,dc as K,eb as Z,ec as X,fa as C,ha as j,hb as x,j as g,nc as J,sc as E,ub as f,vb as Y,wa as b,xb as H,y as V}from"./chunk-75JNA2NC.js";var Dt=10,pt=new S("IDS_WINDOW_RESIZE_DEFAULT_OPTIONS",{providedIn:"root",factory:F});function F(){return{auditTime:Dt}}var It=F(),ct=(()=>{let i=class i{constructor(){this._injector=h(b),this._ngZone=h(v),this._resized=new g,this._defaultOptions=O(O({},It),this._injector.get(pt,null,{optional:!0})),this.resized=this._resized.asObservable(),this._addWindowListener()}_addWindowListener(){this._subscription=this._ngZone.runOutsideAngular(()=>V(window,"resize").pipe(B(this._defaultOptions.auditTime)).subscribe(()=>this._resized.next()))}ngOnDestroy(){this._subscription?.unsubscribe()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();function k(s,i){let n=new Set;return i.forEach(t=>{let e=t.getElementRef().nativeElement.getBoundingClientRect();s.top<e.top&&n.add("top"),s.bottom>e.bottom&&n.add("bottom"),s.left<e.left&&n.add("left"),s.right>e.right&&n.add("right")}),n.size===0?null:n}var A=class{constructor(i,n,t,e){this._scrollContainers=i,this._triggerElement=n,this._positionedElement=t,this._originalPositionPair=e,this._rect=x(null),this.positionTop=E(()=>this._rect()?`${Math.round(this._rect().top)}px`:null),this.positionLeft=E(()=>this._rect()?`${Math.round(this._rect().left)}px`:null),this.fallbackPositionPair=x(null),this.shouldHide=new g}doPosition(){let i=this._getNewRect(this._originalPositionPair),n=k(i,this._scrollContainers??[]);if(!n){this._rect.set(i),this.fallbackPositionPair.set(null);return}let t=this._getFallbackPositionPair(n);if(!t||this._shouldHide(t)){this.shouldHide.next();return}this._rect.set(this._getNewRect(t)),this.fallbackPositionPair.set(t)}_getNewRect([i,n]){let t=this._triggerElement,e=t.getBoundingClientRect(),o=this._positionedElement.nativeElement,P=o.offsetWidth,D=o.offsetHeight,m=0,I=0;switch(i){case r.LEFT:m=e.left-o.offsetWidth;break;case r.CENTER:m=e.left+t.clientWidth/2-o.offsetWidth/2;break;case r.RIGHT:m=e.right;break}switch(n){case l.TOP:I=e.top-o.offsetHeight;break;case l.CENTER:I=e.top+o.offsetHeight/2-o.offsetHeight/2;break;case l.BOTTOM:I=e.bottom;break}let Ot=m+P,Pt=I+D;return{left:m,top:I,height:D,width:P,right:Ot,bottom:Pt}}_getFallbackPositionPair(i){if(i.has(T.TOP)&&i.has(T.BOTTOM)||i.has(T.RIGHT)&&i.has(T.LEFT))return null;let n=i.has(T.RIGHT)?T.RIGHT:T.LEFT,t=i.has(T.TOP)?T.TOP:T.BOTTOM,[e,o]=this._originalPositionPair,P=Object.values(et).some(m=>i.has(m)),D=Object.values(ot).some(m=>i.has(m));return P&&D?[this._getOppositeHorizontalDirection(n),this._getOppositeVerticalDirection(t)]:P?[this._getOppositeHorizontalDirection(n),o]:D?[e,this._getOppositeVerticalDirection(t)]:null}_getOppositeHorizontalDirection(i){switch(i){case r.LEFT:return r.RIGHT;case r.RIGHT:return r.LEFT;case r.CENTER:return r.CENTER}}_getOppositeVerticalDirection(i){switch(i){case l.CENTER:return l.CENTER;case l.TOP:return l.BOTTOM;case l.BOTTOM:return l.TOP}}_shouldHide(i){let n=this._getNewRect(i);return!!k(n,this._scrollContainers??[])}};var a={NORTH:"north",NORTHEAST:"northeast",EAST:"east",SOUTHEAST:"southeast",SOUTH:"south",SOUTHWEST:"southwest",WEST:"west",NORTHWEST:"northwest"};var ut={LIGHT:"light",DARK:"dark"};var yt=0,St=1e3,Ct=8,bt=500,vt=1500,Rt=20,Tt=new S("IDS_TOOLTIP_DEFAULT_OPTIONS",{providedIn:"root",factory:U});function U(){return{position:a.NORTH,size:st.COMFORTABLE,variant:ut.DARK,showDelay:yt,hideDelay:St,touchLongPressShowDelay:bt,viewPortMargin:Ct,touchendHideDelay:vt,scrollDebounceTime:Rt}}function _t(s){if(!s)return null;switch(s){case a.NORTH:return[M.CENTER,M.TOP];case a.NORTHEAST:return[r.RIGHT,l.TOP];case a.EAST:return[r.RIGHT,l.CENTER];case a.SOUTHEAST:return[r.RIGHT,l.BOTTOM];case a.SOUTH:return[r.CENTER,l.BOTTOM];case a.SOUTHWEST:return[r.LEFT,l.BOTTOM];case a.WEST:return[r.LEFT,l.CENTER];case a.NORTHWEST:return[r.LEFT,l.TOP]}}function mt(s){if(!s)return null;let[i,n]=s;return i===r.CENTER&&n===l.TOP?a.NORTH:i===r.RIGHT&&n===l.TOP?a.NORTHEAST:i===r.RIGHT&&n===l.CENTER?a.EAST:i===r.RIGHT&&n===l.BOTTOM?a.SOUTHEAST:i===r.CENTER&&n===l.BOTTOM?a.SOUTH:i===r.LEFT&&n===l.BOTTOM?a.SOUTHWEST:i===r.LEFT&&n===l.CENTER?a.WEST:i===r.LEFT&&n===l.TOP?a.NORTHWEST:null}var Ht=0,ft=(()=>{let i=class i{constructor(){this._componentClass="ids-tooltip",this._uniqueId=`${this._componentClass}-${++Ht}`,this._changeDetectorRef=h(J),this._onHide=new g,this._tooltipElement=h(R),this.id=this._uniqueId,this._originalTooltipPosition=null,this._fallbackTooltipPosition=E(()=>mt(this._connectedPosition?.fallbackPositionPair())),this._isVisible=!1,this._tooltipInitiated=!1,this._hostClasses=E(()=>N(this._componentClass,[this._size,this._variant,["position",this._fallbackTooltipPosition()??this._originalTooltipPosition],["text-align",this._textAlign]]))}get isVisible(){return this._isVisible}get isHideTimerTicking(){return!!this._hideTimeoutId}get message(){return this._message}set message(t){this._message=t}get hostClasses(){return this._hostClasses()}get hostPositionTop(){return this._connectedPosition?.positionTop()}get hostPositionLeft(){return this._connectedPosition?.positionLeft()}ngAfterViewInit(){this._tooltipInitiated=!0,this.doPosition()}initiate(t){this._size=t.size,this._variant=t.variant,this._originalTooltipPosition=t.originalPosition??null,this._textAlign=t.textAlign;let e=_t(this._originalTooltipPosition);t.scrollContainers&&(this._connectedPosition=new A(t.scrollContainers,t.triggerElement,this._tooltipElement,e),this._shouldHideSubscription=this._connectedPosition.shouldHide.subscribe(()=>this._hideImmediately()))}doPosition(){this._tooltipInitiated&&this._connectedPosition?.doPosition()}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._setVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._setVisibility(!1),this._hideTimeoutId=void 0,this._onHide.next()},t)}_hideImmediately(){this._setVisibility(!1),clearTimeout(this._hideTimeoutId),this._hideTimeoutId=void 0,this._onHide.next()}_setVisibility(t){this._isVisible=t,t&&this.markForCheck()}markForCheck(){this._changeDetectorRef.markForCheck()}afterHidden(){return this._onHide}ngOnDestroy(){this._onHide.complete(),this._shouldHideSubscription?.unsubscribe()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C({type:i,selectors:[["ids-tooltip"]],hostVars:7,hostBindings:function(e,o){e&2&&(q("id",o.id),H(o.hostClasses),Y("top",o.hostPositionTop)("left",o.hostPositionLeft))},standalone:!0,features:[L],decls:3,vars:1,consts:[[1,"ids-tooltip__content"]],template:function(e,o){e&1&&(p(0,"div",0)(1,"span"),u(2),c()()),e&2&&(d(2),w(o.message))},encapsulation:2,changeDetection:0});let s=i;return s})();var wt=U(),gt=lt({passive:!0}),Et=(()=>{let i=class i{constructor(){this._componentClass="ids-tooltip-trigger",this._injector=h(b),this._focusMonitor=h(ht),this._platform=h(rt),this._ngZone=h(v),this._elementRef=h(R),this._viewContainerRef=h(Z),this._scrollDispatcher=h(at),this._document=h(Q),this._globalResizeService=h(ct),this._defaultOptions=O(O({},wt),this._injector.get(Tt,null,{optional:!0})),this._passiveListeners=[],this._destroyed=new g,this._tooltipInstance=null,this._pointerExitEventsInitialized=!1,this.message=_(this._defaultOptions.position,{alias:"idsTooltip",transform:nt}),this.position=_(this._defaultOptions.position,{alias:"idsTooltipPosition"}),this.size=_(this._defaultOptions.size,{alias:"idsTooltipSize"}),this.variant=_(this._defaultOptions.variant,{alias:"idsTooltipVariant"}),this.showDelay=_(this._defaultOptions.showDelay,{alias:"idsTooltipShowDelay"}),this.hideDelay=_(this._defaultOptions.hideDelay,{alias:"idsTooltipHideDelay"}),this.disabled=_(!1,{alias:"idsTooltipDisabled"}),this.touchGestures=_("auto",{alias:"idsTooltipTouchGestures"}),this.textAlign=_(void 0,{alias:"idsTooltipTextAlign"}),this._hostClasses=E(()=>N(this._componentClass,[]))}get hostClasses(){return this._hostClasses()}ngAfterViewInit(){this._setupPointerEnterEventsIfNeeded(),this._scrollDispatcher.ancestorScrolled(this._elementRef,this._defaultOptions.scrollDebounceTime).pipe(W(()=>!!this._tooltipInstance),y(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{this._tooltipInstance?.doPosition()})}),this._globalResizeService.resized.subscribe(()=>{this._ngZone.run(()=>{this._tooltipInstance?.doPosition()})}),this._scrollContainers=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),this._focusMonitor.monitor(this._elementRef).pipe(y(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}show(t=this.showDelay()){if(this.disabled()||!this.message()||this._tooltipInstance?.isVisible)return;let e=this._viewContainerRef.createComponent(ft);this._componentRef=e;let o=e.instance;this._tooltipInstance=o,o.initiate({triggerElement:this._elementRef.nativeElement,scrollContainers:this._scrollContainers,size:this.size(),variant:this.variant(),originalPosition:this.position(),textAlign:this.textAlign()}),o.afterHidden().pipe(y(this._destroyed)).subscribe(()=>this._destroyComponent()),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay()){let e=this._tooltipInstance;e?.isHideTimerTicking||e&&(e.isVisible?e.hide(t):this._destroyComponent())}toggle(){this._tooltipInstance?.isVisible?this.hide():this.show(void 0)}_destroyComponent(){this._componentRef?.destroy(),this._tooltipInstance=null}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message(),this._tooltipInstance.markForCheck())}_setupPointerEnterEventsIfNeeded(){this.disabled()||!this.message()||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):this.touchGestures()!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),this._defaultOptions.touchLongPressShowDelay)}])),this._addListeners(this._passiveListeners))}_wheelListener(t){if(this._tooltipInstance?.isVisible){let e=this._document.elementFromPoint(t.clientX,t.clientY),o=this._elementRef.nativeElement;e!==o&&!o.contains(e)&&this.hide()}}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>{this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures()!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([e,o])=>{this._elementRef.nativeElement.addEventListener(e,o,gt)})}_disableNativeGesturesIfNecessary(){let t=this.touchGestures();if(t!=="off"){let e=this._elementRef.nativeElement,o=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(o.userSelect="none"),o.touchAction="none"}}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}ngOnDestroy(){let t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._componentRef&&(this._tooltipInstance=null),this._passiveListeners.forEach(([e,o])=>{t.removeEventListener(e,o,gt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._focusMonitor.stopMonitoring(t)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","idsTooltip",""]],hostVars:2,hostBindings:function(e,o){e&2&&H(o.hostClasses)},inputs:{message:[1,"idsTooltip","message"],position:[1,"idsTooltipPosition","position"],size:[1,"idsTooltipSize","size"],variant:[1,"idsTooltipVariant","variant"],showDelay:[1,"idsTooltipShowDelay","showDelay"],hideDelay:[1,"idsTooltipHideDelay","hideDelay"],disabled:[1,"idsTooltipDisabled","disabled"],touchGestures:[1,"idsTooltipTouchGestures","touchGestures"],textAlign:[1,"idsTooltipTextAlign","textAlign"]},standalone:!0});let s=i;return s})();var vi=(()=>{let i=class i{constructor(){this.showDelay=0,this.hideDelay=5e3,this.tooltipText="Tooltip text should be here"}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=C({type:i,selectors:[["app-tooltip-demo"]],standalone:!0,features:[L],decls:30,vars:33,consts:[[1,"tooltip-grid-container"],[1,"tooltip-grid"],[1,"tooltip-grid-item","left"],["type","button","idsButton","",3,"idsTooltip","idsTooltipHideDelay","idsTooltipPosition"],[1,"tooltip-grid-item","center"],["type","button","idsButton","",3,"idsTooltip","idsTooltipShowDelay","idsTooltipHideDelay","idsTooltipPosition"],[1,"tooltip-grid-item","right"]],template:function(e,o){e&1&&(p(0,"h1"),u(1),K(2,"translate"),c(),p(3,"div",0)(4,"div",1)(5,"div",2)(6,"button",3),u(7," North West "),c()(),p(8,"div",4)(9,"button",5),u(10," North "),c()(),p(11,"div",6)(12,"button",5),u(13," North East "),c()(),p(14,"div",2)(15,"button",5),u(16," West "),c()(),$(17,"div",4),p(18,"div",6)(19,"button",5),u(20," East "),c()(),p(21,"div",2)(22,"button",3),u(23," South West "),c()(),p(24,"div",4)(25,"button",5),u(26," South "),c()(),p(27,"div",6)(28,"button",5),u(29," South East "),c()()()()),e&2&&(d(),w(X(2,31,"COMPONENTS.TOOLTIP")),d(5),f("idsTooltip",o.tooltipText)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","northwest"),d(3),f("idsTooltip",o.tooltipText)("idsTooltipShowDelay",o.showDelay)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","north"),d(3),f("idsTooltip",o.tooltipText)("idsTooltipShowDelay",o.showDelay)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","northeast"),d(3),f("idsTooltip",o.tooltipText)("idsTooltipShowDelay",o.showDelay)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","west"),d(4),f("idsTooltip",o.tooltipText)("idsTooltipShowDelay",o.showDelay)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","east"),d(3),f("idsTooltip",o.tooltipText)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","southwest"),d(3),f("idsTooltip",o.tooltipText)("idsTooltipShowDelay",o.showDelay)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","south"),d(3),f("idsTooltip",o.tooltipText)("idsTooltipShowDelay",o.showDelay)("idsTooltipHideDelay",o.hideDelay)("idsTooltipPosition","southeast"))},dependencies:[Et,dt,it,tt],styles:["[_nghost-%COMP%]{flex:1 0 0;display:flex;flex-direction:column;gap:1rem;padding:2rem}.tooltip-grid-container[_ngcontent-%COMP%]{margin:auto}.tooltip-grid-container[_ngcontent-%COMP%]   .tooltip-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem}.tooltip-grid-container[_ngcontent-%COMP%]   .tooltip-grid[_ngcontent-%COMP%]   .tooltip-grid-item[_ngcontent-%COMP%]{display:flex;align-items:center}.tooltip-grid-container[_ngcontent-%COMP%]   .tooltip-grid[_ngcontent-%COMP%]   .tooltip-grid-item.left[_ngcontent-%COMP%]{justify-content:start}.tooltip-grid-container[_ngcontent-%COMP%]   .tooltip-grid[_ngcontent-%COMP%]   .tooltip-grid-item.center[_ngcontent-%COMP%]{justify-content:center}.tooltip-grid-container[_ngcontent-%COMP%]   .tooltip-grid[_ngcontent-%COMP%]   .tooltip-grid-item.right[_ngcontent-%COMP%]{justify-content:end}"]});let s=i;return s})();export{vi as TooltipDemoComponent};
