<button
  #switch
  role="switch"
  type="button"
  class="ids-switch__button"
  [tabIndex]="isDisabled() ? -1 : tabIndex()"
  [disabled]="isDisabled()"
  [id]="id()"
  [name]="name()"
  [attr.aria-label]="ariaLabel()"
  [attr.aria-labelledby]="ariaLabelledBy()"
  [attr.aria-describedby]="ariaDescribedBy()"
  [attr.aria-required]="required() || null"
  [attr.aria-checked]="isChecked()"
  [@switchAnimation]="isChecked() ? 'on' : 'off'"
  (click)="handleClick()"
>
  <div class="ids-switch__track">
    @if (_hasTrackIcon()) {
      <div class="ids-switch__track-icon">
        @if (isChecked()) {
          <ids-icon aria-hidden="true" fontIcon="check" />
        }
      </div>
      <div class="ids-switch__track-icon">
        @if (!isChecked()) {
          <ids-icon aria-hidden="true" fontIcon="close" />
        }
      </div>
    }
    <div class="ids-switch__handle">
      @if (_hasHandleIcon()) {
        <!-- needs to be here duplicate ids-icon because of animation :enter and :leave -->
        @if (isChecked()) {
          <ids-icon aria-hidden="true" fontIcon="check" />
        } @else {
          <ids-icon aria-hidden="true" fontIcon="close" />
        }
      }
    </div>
  </div>
</button>

<label class="ids-switch__label" [for]="id()">{{ label() }}</label>
