<app-tryout
  [title]="'COMPONENTS.OVERLAY_PANEL' | translate"
  [hasDarkBackground]="overlayPanelHelperModel.testBackgroundColor === 'dark'"
  (resetted)="reset()"
>
  <ng-container component>
    <button
      #origin="cdkOverlayOrigin"
      type="button"
      cdkOverlayOrigin
      idsButton
      appearance="outlined"
      size="compact"
      variant="primary"
      (click)="toggleNewOverlay()"
    >
      {{ _newOverlayOpen ? 'Close new overlay' : 'Open new overlay' }}
    </button>

    <ids-overlay-panel
      [origin]="origin"
      [open]="_newOverlayOpen"
      (closed)="_newOverlayOpen = false"
      [appearance]="overlayPanelModel.appearance"
      [size]="overlayPanelModel.size"
      [variant]="overlayPanelModel.variant"
    >

        @if(overlayPanelHelperModel.contentType === 'menuItems') {
          <div cdkMenuBar>
            @for (_ of items; track $index) {
              <div idsActiveIndicator [active]="false" >
                <button
                  type="button"
                  idsMenuItem
                  [appearance]="menuItemModel.appearance"
                  [size]="menuItemModel.size"
                  [variant]="menuItemModel.variant"
                  [label]="'Menu item label ' + $index"
                  [disabled]="$index === 0 && menuItemHelperModel.hasDisabledItem"
                >
                  @if (menuItemHelperModel.hasLeadingIcon) {
                    <ids-icon icon-leading aria-hidden="true" alt="" fontIcon="search" />
                  }
                  @if (menuItemHelperModel.hasTrailingIcon) {
                    <ids-icon icon-trailing aria-hidden="true" alt="" fontIcon="chevron-right" />
                  }
                </button>
              </div>
            }
          </div>
        } @else if (overlayPanelHelperModel.contentType === 'customContent') {
          <div class="overlay-content">
            <div>
              <button
                type="button"
                idsButton
                appearance="filled"
                size="compact"
                variant="primary"
                (click)="_contentBtnTest('1')"
              >button 1</button>
              <button
                type="button"
                idsButton
                appearance="filled"
                size="compact"
                variant="primary"
                (click)="_contentBtnTest('2')"
              >button 2</button>
            </div>
            <div>
              <ids-chip>
                <ids-icon fontIcon="chevron-up" idsLeadingIcon />
                something
              </ids-chip>
            </div>
            <div>
              <ids-chip>
                <ids-icon fontIcon="chevron-up" idsLeadingIcon />
                something 2
              </ids-chip>
            </div>
          </div>
        }
    </ids-overlay-panel>
  </ng-container>

  <app-control-table
    controls
    [controlName]="'Overlay panel'"
    [configType]="'input'"
    [controlConfig]="_overlayPanelInputControlConfig"
    [(model)]="overlayPanelModel"
    (resetted)="reset()"
  />
  <app-control-table
    controls
    [controlName]="'Overlay panel'"
    [configType]="'helper'"
    [controlConfig]="_overlayPanelHelperControlConfig"
    [(model)]="overlayPanelHelperModel"
    (resetted)="reset()"
  />
  <app-control-table
    controls
    [controlName]="'Menu item'"
    [configType]="'input'"
    [controlConfig]="_menuItemInputControlConfig"
    [(model)]="menuItemModel"
    (resetted)="reset()"
  />
  <app-control-table
    controls
    [controlName]="'Menu item'"
    [configType]="'helper'"
    [controlConfig]="_menuItemHelperControlConfig"
    [(model)]="menuItemHelperModel"
    (resetted)="reset()"
  />
</app-tryout>
